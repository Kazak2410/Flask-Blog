{% extends 'base.html' %}

{% block content %}
  <div class="container">
    <div class="row">
      <div class="col-md-8">
        <div class="user-information">
          <div class="user-information__content">
            <h3 class="user-information__title">Username: {{ user.username }}</h3>
            <p class="user-information__email">Email Address: {{ user.email }}</p>
            <p class="user-information__activity">Last activity: {{ user.last_activity.strftime('%d/%m/%Y %H:%M') }}</p>
            {% if current_user.id == user.id %}
              <a href="{{ url_for('users.update_account') }}" class="btn btn-outline-secondary btn-sm">Update Profile</a>
              <a href="{{ url_for('posts.create_post') }}" class="btn btn-outline-primary btn-sm">Create Post</a>
            {% endif %}
          </div>

          <div class="user-information__image">
            <img src="{{ image_file }}" alt="User Profile Picture">
          </div>
        </div>
        <h2>The posts of {{ user.username }}</h2>
        <hr>
        {% for post in posts.items %}
        <div class="post-container">
          <h2>{{ post.title }}</h2>
          <p class="meta">Published by <a href="{{ url_for('users.account', user_id=post.author.id )}}"><b>{{ post.author.username }}</b></a>
            in {{ post.date_posted.strftime('%d/%m/%Y %H:%M') }}</p>
          <p class="text-preview">{{ post.content[:250] }}<b>...</b></p>
          <a href="{{ url_for('posts.post', post_id=post.id) }}" class="btn btn-outline-primary">Read More</a>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}
